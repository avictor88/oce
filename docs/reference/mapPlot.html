<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Draw a Map — mapPlot • oce</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Draw a Map — mapPlot"><meta property="og:description" content="Plot coordinates as a map, using one of the subset of projections
provided by the sf package.  The projection information specified
with the mapPlot() call is stored in a global variable that can be retrieved
by related functions, making it easy to add points, lines, text, images
or contours to an existing map.
See the &amp;#8220;Details&amp;#8221; for a list of
available projections."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oce</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7-6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/A_oce.html">1. Introduction to Oce</a>
    </li>
    <li>
      <a href="../articles/B_ctd.html">2. Analysis of CTD data</a>
    </li>
    <li>
      <a href="../articles/C_adp.html">3. Analysis of acoustic-Doppler data</a>
    </li>
    <li>
      <a href="../articles/D_map_projections.html">4. Using map projections</a>
    </li>
    <li>
      <a href="../articles/E_flags.html">5. Dealing with data-quality flags</a>
    </li>
    <li>
      <a href="../articles/F_subclassing.html">6. Subclassing oce objects</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/oce/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Draw a Map</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/oce/blob/HEAD/R/map.R" class="external-link"><code>R/map.R</code></a></small>
    <div class="hidden name"><code>mapPlot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plot coordinates as a map, using one of the subset of projections
provided by the <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> package.  The projection information specified
with the <code>mapPlot()</code> call is stored in a global variable that can be retrieved
by related functions, making it easy to add points, lines, text, images
or contours to an existing map.
See the “Details” for a list of
available projections.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">mapPlot</span><span class="op">(</span>
  <span class="va">longitude</span>,
  <span class="va">latitude</span>,
  <span class="va">longitudelim</span>,
  <span class="va">latitudelim</span>,
  grid <span class="op">=</span> <span class="cn">TRUE</span>,
  geographical <span class="op">=</span> <span class="fl">0</span>,
  <span class="va">bg</span>,
  <span class="va">fill</span>,
  border <span class="op">=</span> <span class="cn">NULL</span>,
  col <span class="op">=</span> <span class="cn">NULL</span>,
  clip <span class="op">=</span> <span class="cn">TRUE</span>,
  type <span class="op">=</span> <span class="st">"polygon"</span>,
  axes <span class="op">=</span> <span class="cn">TRUE</span>,
  axisStyle <span class="op">=</span> <span class="fl">1</span>,
  <span class="va">cex</span>,
  cex.axis <span class="op">=</span> <span class="fl">1</span>,
  mgp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0</span><span class="op">)</span>,
  drawBox <span class="op">=</span> <span class="cn">TRUE</span>,
  showHemi <span class="op">=</span> <span class="cn">TRUE</span>,
  polarCircle <span class="op">=</span> <span class="fl">0</span>,
  lonlabels <span class="op">=</span> <span class="cn">TRUE</span>,
  latlabels <span class="op">=</span> <span class="cn">TRUE</span>,
  projection <span class="op">=</span> <span class="st">"+proj=moll"</span>,
  tissot <span class="op">=</span> <span class="cn">FALSE</span>,
  trim <span class="op">=</span> <span class="cn">TRUE</span>,
  debug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"oceDebug"</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>longitude</dt>
<dd><p>either a numeric vector of longitudes of points to be plotted, or
something (an <code>oce</code> object, a list, or a data frame) from which both
longitude and latitude may be inferred (in which case the <code>latitude</code>
argument is ignored).  If <code>longitude</code> is missing, both it and
<code>latitude</code> are taken from the built-in <a href="coastlineWorld.html">coastlineWorld</a> dataset.</p></dd>
<dt>latitude</dt>
<dd><p>numeric vector of latitudes of points to be plotted (ignored
if the first argument contains both latitude and longitude).</p></dd>
<dt>longitudelim</dt>
<dd><p>optional numeric vector of length two, indicating the
longitude limits of the plot. This value is used in the selection of
longitude lines that are shown (and possibly
labelled on the axes). In some cases, e.g. for polar views,
this can lead to odd results, with some expected longitude lines
being left out of the plot.  Altering <code>longitudelim</code> can
often help in such cases, e.g. <code>longitudelim=c(-180, 180)</code> will
force the drawing of lines all around the globe.</p></dd>
<dt>latitudelim</dt>
<dd><p>optional vector of length two, indicating
the latitude limits of the plot. This, together with <code>longitudelim</code>
(and, importantly, the geometry of the plot device) is used in the
selection of map scale.</p></dd>
<dt>grid</dt>
<dd><p>either a number (or pair of numbers) indicating the spacing of
longitude and latitude lines, in degrees, or a logical value (or pair of
values) indicating whether to draw an auto-scaled grid, or whether to skip
the grid drawing.  In the case of numerical values, <code>NA</code> can be used to
turn off the grid in longitude or latitude.  Grids are set up based on
examination of the scale used in middle 10 percent of the plot area, and for
most projections this works quite well.  If not, one may set
<code>grid=FALSE</code> and add a grid later with <code><a href="mapGrid.html">mapGrid()</a></code>.</p></dd>
<dt>geographical</dt>
<dd><p>flag indicating the style of axes.  With
<code>geographical=0</code>, the axes are conventional, with decimal degrees as
the unit, and negative signs indicating the southern and western
hemispheres.  With <code>geographical=1</code>, the signs are dropped, with axis
values being in decreasing order within the southern and western
hemispheres.  With <code>geographical=2</code>, the signs are dropped and the axes
are labelled with degrees, minutes and seconds, as appropriate, and
hemispheres are indicated with letters. With <code>geographical=3</code>, things
are the same as for <code>geographical=2</code>, but the hemisphere indication
is omitted. Finally, with <code>geographical=4</code>, unsigned numbers are used,
followed by letters <code>N</code> in the northern hemisphere, <code>S</code> in the southern,
<code>E</code> in the eastern, and <code>W</code> in the western.</p></dd>
<dt>bg</dt>
<dd><p>color of the background (ignored).</p></dd>
<dt>fill</dt>
<dd><p>is a deprecated argument; see <a href="oce-deprecated.html">oce-deprecated</a>.</p></dd>
<dt>border</dt>
<dd><p>color of coastlines and international borders (ignored unless
<code>type="polygon"</code>.</p></dd>
<dt>col</dt>
<dd><p>either the color for filling polygons (if <code>type="polygon"</code>)
or the color of the points and line segments (if <code>type="p"</code>,
<code>type="l"</code>, or <code>type="o"</code>). If <code>col=NULL</code> then a default
will be set: no coastline filling for the <code>type="polygon"</code> case,
or black coastlines, for <code>type="p"</code>, <code>type="l"</code>, or
<code>type="o"</code>.</p></dd>
<dt>clip</dt>
<dd><p>logical value indicating whether to trim any coastline elements that lie wholly
outside the plot region. This can prevent e.g. a problem of filling the whole plot area of
an Arctic stereopolar view, because the projected trace for Antarctica lies outside all
other regions so the whole of the world ends up being "land".  Setting <code>clip=FALSE</code>
disables this action, which may be of benefit in rare instances in the line connecting
two points on a coastline may cross the plot domain, even if those points are outside
that domain.</p></dd>
<dt>type</dt>
<dd><p>indication of type; may be <code>"polygon"</code>, for a filled polygon,
<code>"p"</code> for points, <code>"l"</code> for line segments, or <code>"o"</code> for points
overlain with line segments.</p></dd>
<dt>axes</dt>
<dd><p>a logical value indicating whether to draw longitude and latitude
values in the lower and left margin, respectively.  This may not work well
for some projections or scales.  See also <code>axisStyle</code>, <code>lonlabels</code>
and <code>latlabels</code>, which offer more granular control of labelling.</p></dd>
<dt>axisStyle</dt>
<dd><p>an integer specifying the style of labels for the numbers
on axes.  The choices are:
1 for signed numbers without additional labels;
2 (the default) for unsigned numbers followed by letters indicating the hemisphere;
3 for signed numbers followed by a degree sign;
4 for unsigned numbers followed by a degree sign; and
5 for signed numbers followed by a degree sign and letters indicating the hemisphere.</p></dd>
<dt>cex</dt>
<dd><p>character expansion factor for plot symbols,
used if <code>type='p'</code> or any other value that yields symbols.</p></dd>
<dt>cex.axis</dt>
<dd><p>axis-label expansion factor (see <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par()</a></code>).</p></dd>
<dt>mgp</dt>
<dd><p>three-element numerical vector describing axis-label
placement, passed to <code><a href="mapAxis.html">mapAxis()</a></code>.</p></dd>
<dt>drawBox</dt>
<dd><p>logical value indicating whether to draw a box around the plot.
This is helpful for many projections at sub-global scale.</p></dd>
<dt>showHemi</dt>
<dd><p>logical value indicating whether to show the hemisphere in
axis tick labels.</p></dd>
<dt>polarCircle</dt>
<dd><p>a number indicating the number of degrees of latitude
extending from the poles, within which zones are not drawn.</p></dd>
<dt>lonlabels</dt>
<dd><p>An optional logical value or numeric vector that controls
the labelling along the horizontal axis. There are four possibilities:
(1) If <code>lonlabels</code> is <code>TRUE</code> (the default), then reasonable values are inferred
and axes are drawn with ticks and labels alongside those ticks;
(2) if <code>lonlabels</code> is <code>FALSE</code>, then ticks are drawn, but no labels;
(3) if <code>lonlabels</code> is <code>NULL</code>, then no axis ticks or labels are drawn; and
(4) if <code>lonlabels</code> is  a vector of finite numerical values, then tick marks
are placed  at those longitudes, and labels are put alongside them.
Note that R tries to avoid overwriting labels on axes, so the instructions
in case 4 might not be obeyed exactly.
See also <code>latlabels</code>, and note that setting <code>axes=FALSE</code>
ensures that no longitude or latitude axes will be drawn regardless
of the values of <code>lonlabels</code> and <code>latlabels</code>.</p></dd>
<dt>latlabels</dt>
<dd><p>As <code>lonlabels</code>, but for latitude, on the left
plot axis.</p></dd>
<dt>projection</dt>
<dd><p>optional indication of projection, in one of two
forms. First, it may be a character string in the "CRS" format that is
used by the <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> package (and in much of modern computer-based
cartography). For example, <code>projection="+proj=merc"</code> specifies a
Mercator projection. The second format is the output from
<code><a href="https://rdrr.io/pkg/sp/man/CRS-class.html" class="external-link">sp::CRS()</a></code> in the <a href="https://CRAN.R-project.org/package=sp" class="external-link"><span class="pkg">sp</span></a> package, which is an object
with a slot named <code>projarg</code> that gets used as a projection string.
See “Details”.</p></dd>
<dt>tissot</dt>
<dd><p>logical value indicating whether to use <code><a href="mapTissot.html">mapTissot()</a></code>
to plot Tissot indicatrices, i.e. ellipses at grid intersection points, which
indicate map distortion.</p></dd>
<dt>trim</dt>
<dd><p>logical value indicating whether to trim islands or lakes
containing only points that are off-scale of the current plot box.  This
solves the problem of Antarctica overfilling the entire domain, for an
Arctic-centred stereographic projection.  It is not a perfect solution,
though, because the line segment joining two off-scale points might
intersect the plotting box.</p></dd>
<dt>debug</dt>
<dd><p>a flag that turns on debugging.  Set to 1 to get a moderate
amount of debugging information, or to 2 to get more.</p></dd>
<dt>...</dt>
<dd><p>optional arguments passed to some plotting functions.  This can
be useful in many ways, e.g.  Example 5 shows how to use <code>xlim</code> etc to
reproduce a scale exactly between two plots.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The calculations for map projections are done with
the <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> package.  Importantly, though, not all
the <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> projections are
available in <code>oce</code>, for reasons relating to limitations
of <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a>, for example relating to inverse-projection
calculations. The <code>oce</code> choices are tabulated
below, e.g. <code>projection="+proj=aea"</code> selects the Albers equal area
projection.  (See also the warning, below, about a problem
with <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> version 0.9-8.)</p>
<p>Further details of the vast array of map projections provided by PROJ
are given in reference 4.  This system has been in rapid development
since about 2018, and reference 5 provides a helpful overview of the changes
and the reasons why they were necessary.  Practical examples of map projections in
<a href="https://CRAN.R-project.org/package=oce" class="external-link"><span class="pkg">oce</span></a> are provided in reference 6, along with some notes on problems.
A fascinating treatment of the history of map projections is provided
in reference 7.  To get an idea of how projections are being created
nowadays, see reference 8, about the <code>eqearth</code> projection that was added
to <a href="https://CRAN.R-project.org/package=oce" class="external-link"><span class="pkg">oce</span></a> in August 2020.</p>
    </div>
    <div id="a-warning-about-sf-version-">
    <h2>A warning about 'sf' version 0.9-8</h2>
    

<p>This version of <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a>, released in March of 2021, has errors
with respect to some projections.  This was noticed for the <code>"ortho"</code>
projection, but the problem may occur for other projections as well.
Therefore, the user ought to use <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> versions prior to 0.9-8,
or subsequent to it.  Most likely, this message will become moot
in the summer of 2021, when a new version of <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> will
become available on CRAN.</p>
    </div>
    <div id="available-projections">
    <h2>Available Projections</h2>
    


<p>The following table lists projections available in <a href="https://CRAN.R-project.org/package=oce" class="external-link"><span class="pkg">oce</span></a>, and was generated
by reformatting a subset of the output of the unix
command <code>proj -lP</code>. Most of the arguments have default values, and many
projections also have optional arguments.  Although e.g. <code>proj -l=aea</code>
provides a little more information about particular projections,
users ought to consult reference 4 for fuller details and illustrations.</p><table class="table table"><tr><td><strong>Projection</strong></td><td><strong>Code</strong></td><td><strong>Arguments</strong></td></tr><tr><td>Albers equal area</td><td><code>aea</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Azimuthal equidistant</td><td><code>aeqd</code></td><td><code>lat_0</code>, <code>guam</code></td></tr><tr><td>Aitoff</td><td><code>aitoff</code></td><td>-</td></tr><tr><td>Mod. stererographics of Alaska</td><td><code>alsk</code></td><td>-</td></tr><tr><td>Bipolar conic of western hemisphere</td><td><code>bipc</code></td><td>-</td></tr><tr><td>Bonne Werner</td><td><code>bonne</code></td><td><code>lat_1</code></td></tr><tr><td>Cassini</td><td><code>cass</code></td><td>-</td></tr><tr><td>Central cylindrical</td><td><code>cc</code></td><td>-</td></tr><tr><td>Equal area cylindrical</td><td><code>cea</code></td><td><code>lat_ts</code></td></tr><tr><td>Collignon</td><td><code>collg</code></td><td>-</td></tr><tr><td>Craster parabolic Putnins P4</td><td><code>crast</code></td><td>-</td></tr><tr><td>Eckert I</td><td><code>eck1</code></td><td>-</td></tr><tr><td>Eckert II</td><td><code>eck2</code></td><td>-</td></tr><tr><td>Eckert III</td><td><code>eck3</code></td><td>-</td></tr><tr><td>Eckert IV</td><td><code>eck4</code></td><td>-</td></tr><tr><td>Eckert V</td><td><code>eck5</code></td><td>-</td></tr><tr><td>Eckert VI</td><td><code>eck6</code></td><td>-</td></tr><tr><td>Equidistant cylindrical plate (Caree)</td><td><code>eqc</code></td><td><code>lat_ts</code>, <code>lat_0</code></td></tr><tr><td>Equidistant conic</td><td><code>eqdc</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Equal earth</td><td><code>eqearth</code></td><td>-</td></tr><tr><td>Euler</td><td><code>euler</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Extended transverse Mercator</td><td><code>etmerc</code></td><td>-</td></tr><tr><td>Fahey</td><td><code>fahey</code></td><td>-</td></tr><tr><td>Foucault</td><td><code>fouc</code></td><td>-</td></tr><tr><td>Foucault sinusoidal</td><td><code>fouc_s</code></td><td>-</td></tr><tr><td>Gall stereographic</td><td><code>gall</code></td><td>-</td></tr><tr><td>Geostationary satellite view</td><td><code>geos</code></td><td><code>h</code></td></tr><tr><td>General sinusoidal series</td><td><code>gn_sinu</code></td><td><code>m</code>, <code>n</code></td></tr><tr><td>Gnomonic</td><td><code>gnom</code></td><td>-</td></tr><tr><td>Goode homolosine</td><td><code>goode</code></td><td>-</td></tr><tr><td>Hatano asymmetrical equal area</td><td><code>hatano</code></td><td>-</td></tr><tr><td>Interrupted Goode homolosine</td><td><code>igh</code></td><td>-</td></tr><tr><td>Kavraisky V</td><td><code>kav5</code></td><td>-</td></tr><tr><td>Kavraisky VII</td><td><code>kav7</code></td><td>-</td></tr><tr><td>Lambert azimuthal equal area</td><td><code>laea</code></td><td>-</td></tr><tr><td>Longitude and latitude</td><td><code>longlat</code></td><td>-</td></tr><tr><td>Longitude and latitude</td><td><code>latlong</code></td><td>-</td></tr><tr><td>Lambert conformal conic</td><td><code>lcc</code></td><td><code>lat_1</code>, <code>lat_2</code> or <code>lat_0</code>, <code>k_0</code></td></tr><tr><td>Lambert equal area conic</td><td><code>leac</code></td><td><code>lat_1</code>, <code>south</code></td></tr><tr><td>Loximuthal</td><td><code>loxim</code></td><td>-</td></tr><tr><td>Space oblique for Landsat</td><td><code>lsat</code></td><td><code>lsat</code>, <code>path</code></td></tr><tr><td>McBryde-Thomas flat-polar sine, no. 1</td><td><code>mbt_s</code></td><td>-</td></tr><tr><td>McBryde-Thomas flat-polar sine, no. 2</td><td><code>mbt_fps</code></td><td>-</td></tr><tr><td>McBryde-Thomas flat-polar parabolic</td><td><code>mbtfpp</code></td><td>-</td></tr><tr><td>McBryde-Thomas flat-polar quartic</td><td><code>mbtfpq</code></td><td>-</td></tr><tr><td>McBryde-Thomas flat-polar sinusoidal</td><td><code>mbtfps</code></td><td>-</td></tr><tr><td>Mercator</td><td><code>merc</code></td><td><code>lat_ts</code></td></tr><tr><td>Miller oblated stereographic</td><td><code>mil_os</code></td><td>-</td></tr><tr><td>Miller cylindrical</td><td><code>mill</code></td><td>-</td></tr><tr><td>Mollweide</td><td><code>moll</code></td><td>-</td></tr><tr><td>Murdoch I</td><td><code>murd1</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Murdoch II</td><td><code>murd2</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>murdoch III</td><td><code>murd3</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Natural earth</td><td><code>natearth</code></td><td>-</td></tr><tr><td>Nell</td><td><code>nell</code></td><td>-</td></tr><tr><td>Nell-Hammer</td><td><code>nell_h</code></td><td>-</td></tr><tr><td>Near-sided perspective</td><td><code>nsper</code></td><td><code>h</code></td></tr><tr><td>New Zealand map grid</td><td><code>nzmg</code></td><td>-</td></tr><tr><td>General oblique transformation</td><td><code>ob_tran</code></td><td><code>o_proj</code>, <code>o_lat_p</code>, <code>o_lon_p</code>,</td></tr><tr><td></td><td></td><td><code>o_alpha</code>, <code>o_lon_c</code>, <code>o_lat_c</code>,</td></tr><tr><td></td><td></td><td><code>o_lon_1</code>, <code>o_lat_1</code>,</td></tr><tr><td></td><td></td><td><code>o_lon_2</code>, <code>o_lat_2</code></td></tr><tr><td>Oblique cylindrical equal area</td><td><code>ocea</code></td><td><code>lat_1</code>, <code>lat_2</code>, <code>lon_1</code>, <code>lon_2</code></td></tr><tr><td>Oblated equal area</td><td><code>oea</code></td><td><code>n</code>, <code>m</code>, <code>theta</code></td></tr><tr><td>Oblique Mercator</td><td><code>omerc</code></td><td><code>alpha</code>, <code>gamma</code>, <code>no_off</code>,</td></tr><tr><td></td><td></td><td><code>lonc</code>, <code>lon_1</code>, <code>lat_1</code>,</td></tr><tr><td></td><td></td><td><code>lon_2</code>, <code>lat_2</code></td></tr><tr><td>Orthographic</td><td><code>ortho</code></td><td>-</td></tr><tr><td>Polyconic American</td><td><code>poly</code></td><td>-</td></tr><tr><td>Putnins P1</td><td><code>putp1</code></td><td>-</td></tr><tr><td>Putnins P2</td><td><code>putp2</code></td><td>-</td></tr><tr><td>Putnins P3</td><td><code>putp3</code></td><td>-</td></tr><tr><td>Putnins P3'</td><td><code>putp3p</code></td><td>-</td></tr><tr><td>Putnins P4'</td><td><code>putp4p</code></td><td>-</td></tr><tr><td>Putnins P5</td><td><code>putp5</code></td><td>-</td></tr><tr><td>Putnins P5'</td><td><code>putp5p</code></td><td>-</td></tr><tr><td>Putnins P6</td><td><code>putp6</code></td><td>-</td></tr><tr><td>Putnins P6'</td><td><code>putp6p</code></td><td>-</td></tr><tr><td>Quartic authalic</td><td><code>qua_aut</code></td><td>-</td></tr><tr><td>Quadrilateralized spherical cube</td><td><code>qsc</code></td><td>-</td></tr><tr><td>Robinson</td><td><code>robin</code></td><td>-</td></tr><tr><td>Roussilhe stereographic</td><td><code>rouss</code></td><td>-</td></tr><tr><td>Sinusoidal aka Sanson-Flamsteed</td><td><code>sinu</code></td><td>-</td></tr><tr><td>Swiss. oblique Mercator</td><td><code>somerc</code></td><td>-</td></tr><tr><td>Stereographic</td><td><code>stere</code></td><td><code>lat_ts</code></td></tr><tr><td>Oblique stereographic alternative</td><td><code>sterea</code></td><td>-</td></tr><tr><td>Transverse cylindrical equal area</td><td><code>tcea</code></td><td>-</td></tr><tr><td>Tissot</td><td><code>tissot</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Transverse Mercator</td><td><code>tmerc</code></td><td><code>approx</code></td></tr><tr><td>Two point equidistant</td><td><code>tpeqd</code></td><td><code>lat_1</code>, <code>lon_1</code>, <code>lat_2</code>, <code>lon_2</code></td></tr><tr><td>Tilted perspective</td><td><code>tpers</code></td><td><code>tilt</code>, <code>azi</code>, <code>h</code></td></tr><tr><td>Universal polar stereographic</td><td><code>ups</code></td><td><code>south</code></td></tr><tr><td>Urmaev flat-polar sinusoidal</td><td><code>urmfps</code></td><td><code>n</code></td></tr><tr><td>Universal transverse Mercator</td><td><code>utm</code></td><td><code>zone</code>, <code>south</code>, <code>approx</code></td></tr><tr><td>van der Grinten I</td><td><code>vandg</code></td><td>-</td></tr><tr><td>Vitkovsky I</td><td><code>vitk1</code></td><td><code>lat_1</code>, <code>lat_2</code></td></tr><tr><td>Wagner I Kavraisky VI</td><td><code>wag1</code></td><td>-</td></tr><tr><td>Wagner II</td><td><code>wag2</code></td><td>-</td></tr><tr><td>Wagner III</td><td><code>wag3</code></td><td><code>lat_ts</code></td></tr><tr><td>Wagner IV</td><td><code>wag4</code></td><td>-</td></tr><tr><td>Wagner V</td><td><code>wag5</code></td><td>-</td></tr><tr><td>Wagner VI</td><td><code>wag6</code></td><td>-</td></tr><tr><td>Werenskiold I</td><td><code>weren</code></td><td>-</td></tr><tr><td>Winkel I</td><td><code>wink1</code></td><td><code>lat_ts</code></td></tr><tr><td>Winkel Tripel</td><td><code>wintri</code></td><td><code>lat_ts</code></td></tr></table></div>
    <div id="choosing-a-projection">
    <h2>Choosing a projection</h2>
    

<p>The best choice of projection depends on the application.
Users may find <code>projection="+proj=moll"</code> useful for world-wide
plots, <code>ortho</code> for hemispheres viewed from the equator, <code>stere</code>
for polar views, <code>lcc</code> for wide meridional ranges in mid latitudes,
<code>merc</code> in limited-area cases where angle preservation is
important, or either <code>aea</code> or <code>eqearth</code> (on local and global
scales, respectively) where area preservation is important.
The choice becomes more important, the larger the size of the region
represented.  When it comes to publication, it can be sensible to use the
same projection as used in previous reports.</p>
    </div>
    <div id="problems">
    <h2>Problems</h2>
    

<p>Map projection is a complicated matter that is addressed here
in a limited and pragmatic way.  For example, <code>mapPlot</code> tries to draw
axes along a box containing the map, instead of trying to find spots along
the ``edge'' of the map at which to put longitude and latitude labels.
This design choice greatly simplifies the coding effort, freeing up time to
work on issues regarded as more pressing.  Chief among those issues are (a)
the occurrence of horizontal lines in maps that have prime meridians
(b) inaccurate filling of land regions that (again) occur with shifted
meridians and (c) inaccurate filling of Antarctica in some projections.
Generally, issues are tackled first for commonly used projections, such as
those used in the examples.</p>
    </div>
    <div id="changes">
    <h2>Changes</h2>
    

<ul><li><p>2020-12-24: complete switch from <a href="https://CRAN.R-project.org/package=rgdal" class="external-link"><span class="pkg">rgdal</span></a> to <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a>,
removing the testing scheme created on 2020-08-03.</p></li>
<li><p>2020-08-03: added support for the <code>eqearth</code> projection (like <code>robin</code> but
an equal-area method).</p></li>
<li><p>2020-08-03: dropped support for the <code>healpix</code>, <code>pconic</code>
and <code>rhealpix</code> projections, which caused errors with the
<a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> package.  (This is not a practical loss, since these
interrupted projections were handled badly by <code>mapPlot()</code>
in any case.)</p></li>
<li><p>2020-08-03: switch from <a href="https://CRAN.R-project.org/package=rgdal" class="external-link"><span class="pkg">rgdal</span></a> to <a href="https://CRAN.R-project.org/package=sf" class="external-link"><span class="pkg">sf</span></a> for
calculations related to map projection, owing to some
changes in the former package that broke <a href="https://CRAN.R-project.org/package=oce" class="external-link"><span class="pkg">oce</span></a>
code.  (To catch problems, <a href="https://CRAN.R-project.org/package=oce" class="external-link"><span class="pkg">oce</span></a> was set up to use
both packages temporarily, issuing warnings if the results differed
by more than 1 metre in easting or northing values.)</p></li>
<li><p>2019-03-20: the test code provided the “Examples” section
is disabled on i386/windows machines, on which the requisite
<a href="https://CRAN.R-project.org/package=rgdal" class="external-link"><span class="pkg">rgdal</span></a> package continues to fail on common projections.</p></li>
<li><p>2017-11-19: <code>imw_p</code> removed, because it has problems doing
inverse calculations.
This is a also problem in the standalone PROJ.4 application version
4.9.3, downloaded and built on OSX.
See <code>https://github.com/dankelley/oce/issues/1319</code> for details.</p></li>
<li><p>2017-11-17: <code>lsat</code> removed, because it does not work in
<a href="https://CRAN.R-project.org/package=rgdal" class="external-link"><span class="pkg">rgdal</span></a> or in the latest standalone PROJ.4 application.
This is a also problem in the standalone PROJ.4 application version
4.9.3, downloaded and built on OSX.
See <code>https://github.com/dankelley/oce/issues/1337</code> for details.</p></li>
<li><p>2017-09-30: <code>lcca</code> removed, because its inverse was
wildly inaccurate in a Pacific Antarctic-Alaska application
(see <code>https://github.com/dankelley/oce/issues/1303</code>).</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    
<ol><li><p>Snyder, John P., 1987.  Map Projections: A Working Manual.  USGS
Professional Paper: 1395
<code>https://pubs.er.usgs.gov/publication/pp1395</code></p></li>
<li><p>Natural Resources Canada
<code>https://www.nrcan.gc.ca/earth-sciences/geography/topographic-information/maps/9805</code></p></li>
<li><p>"List of Map Projections." In Wikipedia, January 26, 2021.
<code>https://en.wikipedia.org/w/index.php?title=List_of_map_projections</code>.</p></li>
<li><p>PROJ contributors (2020).
"PROJ Coordinate Transformation Software Library."
Open Source Geospatial Foundation, n.d.
<code>https://proj.org</code>.</p></li>
<li><p>Bivand, Roger (2020) Why have CRS, projections and transformations changed?
Vignette for rgdal 1.5-13
<code>https://rgdal.r-forge.r-project.org/articles/CRS_projections_transformations.html</code></p></li>
<li><p>A gallery of map plots is provided at
<code>https://dankelley.github.io/r/2020/08/02/oce-proj.html</code></p></li>
<li><p>Snyder, John Parr.
Flattening the Earth: Two Thousand Years of Map Projections.
Chicago, IL: University of Chicago Press, 1993.
<code>https://press.uchicago.edu/ucp/books/book/chicago/F/bo3632853.html</code></p></li>
<li><p>Šavrič, Bojan, Tom Patterson, and Bernhard Jenny.
"The Equal Earth Map Projection."
International Journal of Geographical Information Science 33, no. 3 (March 4, 2019): 454-65.
<a href="https://doi.org/10.1080/13658816.2018.1504949" class="external-link">doi:10.1080/13658816.2018.1504949</a></p></li>
</ol></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Points may be added to a map with <code><a href="mapPoints.html">mapPoints()</a></code>, lines with
<code><a href="mapLines.html">mapLines()</a></code>, text with <code><a href="mapText.html">mapText()</a></code>, polygons with
<code><a href="mapPolygon.html">mapPolygon()</a></code>, images with <code><a href="mapImage.html">mapImage()</a></code>, and scale bars
with <code><a href="mapScalebar.html">mapScalebar()</a></code>.  Points on a map may be determined with mouse
clicks using <code><a href="mapLocator.html">mapLocator()</a></code>.  Great circle paths can be calculated
with <code><a href="geodGc.html">geodGc()</a></code>.  See reference 8 for a demonstration of the available map
projections (with graphs).</p>
<p>Other functions related to maps: 
<code><a href="formatPosition.html">formatPosition</a>()</code>,
<code><a href="lonlat2map.html">lonlat2map</a>()</code>,
<code><a href="lonlat2utm.html">lonlat2utm</a>()</code>,
<code><a href="map2lonlat.html">map2lonlat</a>()</code>,
<code><a href="mapArrows.html">mapArrows</a>()</code>,
<code><a href="mapAxis.html">mapAxis</a>()</code>,
<code><a href="mapContour.html">mapContour</a>()</code>,
<code><a href="mapCoordinateSystem.html">mapCoordinateSystem</a>()</code>,
<code><a href="mapDirectionField.html">mapDirectionField</a>()</code>,
<code><a href="mapGrid.html">mapGrid</a>()</code>,
<code><a href="mapImage.html">mapImage</a>()</code>,
<code><a href="mapLines.html">mapLines</a>()</code>,
<code><a href="mapLocator.html">mapLocator</a>()</code>,
<code><a href="mapLongitudeLatitudeXY.html">mapLongitudeLatitudeXY</a>()</code>,
<code><a href="mapPoints.html">mapPoints</a>()</code>,
<code><a href="mapPolygon.html">mapPolygon</a>()</code>,
<code><a href="mapScalebar.html">mapScalebar</a>()</code>,
<code><a href="mapText.html">mapText</a>()</code>,
<code><a href="mapTissot.html">mapTissot</a>()</code>,
<code><a href="oceCRS.html">oceCRS</a>()</code>,
<code><a href="shiftLongitude.html">shiftLongitude</a>()</code>,
<code><a href="usrLonLat.html">usrLonLat</a>()</code>,
<code><a href="utm2lonlat.html">utm2lonlat</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley and Clark Richards</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># \donttest{</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dankelley.github.io/oce/" class="external-link">oce</a></span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">coastlineWorld</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 1.</span></span>
<span class="r-in"><span class="co"># Mollweide (referenc 1 page 54) is an equal-area projection that works well</span></span>
<span class="r-in"><span class="co"># for whole-globe views.</span></span>
<span class="r-in"><span class="fu">mapPlot</span><span class="op">(</span><span class="va">coastlineWorld</span>, projection<span class="op">=</span><span class="st">"+proj=moll"</span>, col<span class="op">=</span><span class="st">'gray'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Mollweide"</span>, adj<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-plt img"><img src="mapPlot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 2.</span></span>
<span class="r-in"><span class="co"># Note that filling is not employed (`col` is not</span></span>
<span class="r-in"><span class="co"># given) when the prime meridian is shifted, because</span></span>
<span class="r-in"><span class="co"># this causes a problem with Antarctica</span></span>
<span class="r-in"><span class="va">cl180</span> <span class="op">&lt;-</span> <span class="fu"><a href="coastlineCut.html">coastlineCut</a></span><span class="op">(</span><span class="va">coastlineWorld</span>, lon_0<span class="op">=</span><span class="op">-</span><span class="fl">180</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">mapPlot</span><span class="op">(</span><span class="va">cl180</span>, projection<span class="op">=</span><span class="st">"+proj=moll +lon_0=-180"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Mollweide with coastlineCut"</span>, adj<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-plt img"><img src="mapPlot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 3.</span></span>
<span class="r-in"><span class="co"># Orthographic projections resemble a globe, making them attractive for</span></span>
<span class="r-in"><span class="co"># non-technical use, but they are neither conformal nor equal-area, so they</span></span>
<span class="r-in"><span class="co"># are somewhat limited for serious use on large scales.  See Section 20 of</span></span>
<span class="r-in"><span class="co"># reference 1. Note that filling is not employed because it causes a problem with</span></span>
<span class="r-in"><span class="co"># Antarctica.</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"sf"</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"0.9.8"</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="co"># sf version 0.9-8 has a problem with this projection</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu">mapPlot</span><span class="op">(</span><span class="va">coastlineWorld</span>, projection<span class="op">=</span><span class="st">"+proj=ortho +lon_0=-180"</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Orthographic"</span>, adj<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-plt img"><img src="mapPlot-3.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 4.</span></span>
<span class="r-in"><span class="co"># The Lambert conformal conic projection is an equal-area projection</span></span>
<span class="r-in"><span class="co"># recommended by reference 1, page 95, for regions of large east-west extent</span></span>
<span class="r-in"><span class="co"># away from the equator, here illustrated for the USA and Canada.</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">mapPlot</span><span class="op">(</span><span class="fu"><a href="coastlineCut.html">coastlineCut</a></span><span class="op">(</span><span class="va">coastlineWorld</span>, <span class="op">-</span><span class="fl">100</span><span class="op">)</span>,</span>
<span class="r-in">        longitudelim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">130</span>,<span class="op">-</span><span class="fl">55</span><span class="op">)</span>, latitudelim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">35</span>, <span class="fl">60</span><span class="op">)</span>,</span>
<span class="r-in">        projection<span class="op">=</span><span class="st">"+proj=lcc +lat_0=30 +lat_1=60 +lon_0=-100"</span>, col<span class="op">=</span><span class="st">'gray'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Lambert conformal"</span>, adj<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-plt img"><img src="mapPlot-4.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 5.</span></span>
<span class="r-in"><span class="co"># The stereographic projection (reference 1, page 120) is conformal, used</span></span>
<span class="r-in"><span class="co"># below for an Arctic view with a Canadian focus.  Note the trick of going</span></span>
<span class="r-in"><span class="co"># past the pole: the second latitudelim value is 180 minus the first, and the</span></span>
<span class="r-in"><span class="co"># second longitudelim is 180 plus the first; this uses image points "over"</span></span>
<span class="r-in"><span class="co"># the pole.</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">mapPlot</span><span class="op">(</span><span class="fu"><a href="coastlineCut.html">coastlineCut</a></span><span class="op">(</span><span class="va">coastlineWorld</span>, <span class="op">-</span><span class="fl">135</span><span class="op">)</span>,</span>
<span class="r-in">        longitudelim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">130</span>, <span class="fl">50</span><span class="op">)</span>, latitudelim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">70</span>, <span class="fl">110</span><span class="op">)</span>,</span>
<span class="r-in">        projection<span class="op">=</span><span class="st">"+proj=stere +lat_0=90 +lon_0=-135"</span>, col<span class="op">=</span><span class="st">'gray'</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html" class="external-link">mtext</a></span><span class="op">(</span><span class="st">"Stereographic"</span>, adj<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-plt img"><img src="mapPlot-5.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Example 6.</span></span>
<span class="r-in"><span class="co"># Spinning globe: create PNG files that can be assembled into a movie</span></span>
<span class="r-in"><span class="co"># }</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/packageDescription.html" class="external-link">packageVersion</a></span><span class="op">(</span><span class="st">"sf"</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"0.9.8"</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="co"># sf version 0.9-8 has a problem with this projection</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"globe-%03d.png"</span><span class="op">)</span></span>
<span class="r-in">    <span class="va">lons</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">360</span>, <span class="fl">0</span>, <span class="op">-</span><span class="fl">15</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">    <span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">lons</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">        <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"+proj=ortho +lat_0=30 +lon_0="</span>, <span class="va">lons</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, sep<span class="op">=</span><span class="st">""</span><span class="op">)</span></span>
<span class="r-in">        <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">            <span class="fu">mapPlot</span><span class="op">(</span><span class="fu"><a href="coastlineCut.html">coastlineCut</a></span><span class="op">(</span><span class="va">coastlineWorld</span>, <span class="va">lons</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>, projection<span class="op">=</span><span class="va">p</span>, col<span class="op">=</span><span class="st">"gray"</span><span class="op">)</span></span>
<span class="r-in">            <span class="va">xlim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"usr"</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span class="r-in">            <span class="va">ylim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="st">"usr"</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span>
<span class="r-in">        <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span class="r-in">            <span class="fu">mapPlot</span><span class="op">(</span><span class="fu"><a href="coastlineCut.html">coastlineCut</a></span><span class="op">(</span><span class="va">coastlineWorld</span>, <span class="va">lons</span><span class="op">[</span><span class="va">i</span><span class="op">]</span><span class="op">)</span>, projection<span class="op">=</span><span class="va">p</span>, col<span class="op">=</span><span class="st">"gray"</span>,</span>
<span class="r-in">                    xlim<span class="op">=</span><span class="va">xlim</span>, ylim<span class="op">=</span><span class="va">ylim</span>, xaxs<span class="op">=</span><span class="st">"i"</span>, yaxs<span class="op">=</span><span class="st">"i"</span><span class="op">)</span></span>
<span class="r-in">        <span class="op">}</span></span>
<span class="r-in">    <span class="op">}</span></span>
<span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

